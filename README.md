# 神迹输入法 (Shenji Input Method)

一个简单的Android输入法应用，支持Android 9到Android 15设备。

## 功能特点


# 神迹输入法项目总结

## 项目概述
神迹输入法是一款适配Android 9至15的输入法应用，提供基础输入功能，支持英文输入、大小写切换，并集成了日志系统与词典管理功能。

## 技术架构
- **开发语言**：Kotlin
- **数据库**：Realm-Kotlin
- **UI框架**：原生Android视图系统
- **日志框架**：Timber
- **构建工具**：Gradle

## 核心功能模块

### 输入法基础功能
- 基本英文键盘输入
- 大小写切换
- 自定义键盘布局

### 日志系统
- 自动捕获崩溃信息
- 提供日志查看与复制功能
- 日志存储在外部存储的指定目录

## 词典管理系统（详细）


   - chars (10万词条)：单字字典
   - base (78万词条)：2-3字基础词组
   - correlation (57万词条)：4字词组
   - associational (34万词条)：5字以上词组
   - compatible (5千词条)：多音字词组
   - corrections (137词条)：错音错字词组
   - place (4.5万词条)：地理位置词典
   - people (4万词条)：人名词典
   - poetry (32万词条)：诗词词典

### 1. 词典数据模型
- **Entry类**：表示单个词条
  - 包含id、word(词语)、pinyin(拼音)、frequency(词频)、type(词典类型)等字段
  - 使用Realm的RealmObject进行数据持久化

- **DictionaryInfo类**：表示词典信息
  - 包含id、dictName(词典名称)、fileName(文件名)、description(描述)等信息
  - 记录entryCount(词条数量)和convertedAt(转换时间)

### 2. 词典文件管理
- 词典文件（shenji_dict.realm）初始存放在应用assets目录
- 应用首次启动时检查内部存储目录是否存在词典文件
- 若不存在，从assets复制到应用内部存储目录
- 使用Realm操作此数据库文件进行词典查询和管理

### 3. 词典管理界面
- **词典统计区域**：
  - 显示词条总数（实时从数据库查询）
  - 显示内存占用（基于文件大小估算）
  - 显示数据库大小（直接获取词典文件大小）
  - 显示词典模块数量

- **词典模块列表**：
  - 以卡片形式展示各词典模块
  - 每个模块显示中文名称、代码和词条数量
  - 支持点击进入词典详情页面

### 4. 词典类型划分
- 当前支持多个词典模块：


### 5. 词典详情功能
- 展示特定词典类型的所有词条
- 默认每页加载500个词条
- 实现滚动到底部自动加载更多
- 显示词语、拼音和词频信息

### 6. 数据访问层
- DictionaryRepository类封装所有词典相关操作
- 提供统计数据查询方法（词条总数、文件大小等）
- 分页获取指定类型词条的方法
- 内存占用估算（当前基于文件大小）

### 7. 性能优化
- 使用RecyclerView高效展示大量词条
- 实现分页加载避免一次性加载过多数据
- 使用DiffUtil优化列表更新性能
- 耗时操作均在后台线程执行

## 项目亮点
- 使用MVVM架构模式组织代码
- 全面采用Kotlin协程处理异步操作
- 数据绑定与ViewBinding提高开发效率
- 统一的UI设计和导航体验
- 健壮的错误处理机制

## 存在问题与优化方向
- 内存占用统计不够精确，目前使用文件大小作为估算值
- 可考虑添加词典导入导出功能
- 后续可实现词条编辑和自定义词典功能
- 优化大型词典加载性能

项目目前已实现词典模块的基础管理功能，支持查看词典统计信息和浏览词条，为后续扩展提供了良好基础。


## 技术栈

- 开发语言：Kotlin
- 数据库：Realm-Kotlin
- 日志框架：Timber

## 如何使用

1. 安装应用
2. 在Android设置->语言和输入法->管理键盘中启用"神迹输入法"
3. 切换到"神迹输入法"作为默认输入法

## 日志系统

应用会自动捕获崩溃并记录到外部存储：
- 日志路径：`Android/data/com.shenji.aikeyboard/files/logs/crash_log.txt`
- 可通过应用主界面的"查看日志"按钮访问并管理日志

## 开发环境要求

- Android Studio Arctic Fox或更高版本
- JDK 17
- Gradle 8.3+
- Android SDK 34+

## 编译构建

```bash
# 使用Gradle构建
./gradlew assembleDebug

# 安装到设备
./gradlew installDebug
``` 